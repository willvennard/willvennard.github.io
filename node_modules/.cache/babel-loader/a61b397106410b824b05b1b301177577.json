{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = PageSVG;\nexports.PageSVGInternal = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _pdfjsDist = _interopRequireDefault(require(\"pdfjs-dist\"));\n\nvar _PageContext = _interopRequireDefault(require(\"../PageContext\"));\n\nvar _utils = require(\"../shared/utils\");\n\nvar _propTypes2 = require(\"../shared/propTypes\");\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = (0, _getPrototypeOf2[\"default\"])(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2[\"default\"])(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar PageSVGInternal =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  (0, _inherits2[\"default\"])(PageSVGInternal, _PureComponent);\n\n  var _super = _createSuper(PageSVGInternal);\n\n  function PageSVGInternal() {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, PageSVGInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"state\", {\n      svg: null\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onRenderSuccess\", function () {\n      _this.renderer = null;\n      var _this$props = _this.props,\n          onRenderSuccess = _this$props.onRenderSuccess,\n          page = _this$props.page,\n          scale = _this$props.scale;\n      if (onRenderSuccess) onRenderSuccess((0, _utils.makePageCallback)(page, scale));\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onRenderError\", function (error) {\n      if ((0, _utils.isCancelException)(error)) {\n        return;\n      }\n\n      (0, _utils.errorOnDev)(error);\n      var onRenderError = _this.props.onRenderError;\n      if (onRenderError) onRenderError(error);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"renderSVG\", function () {\n      var page = _this.props.page;\n      _this.renderer = page.getOperatorList();\n      return _this.renderer.then(function (operatorList) {\n        var svgGfx = new _pdfjsDist[\"default\"].SVGGraphics(page.commonObjs, page.objs);\n        _this.renderer = svgGfx.getSVG(operatorList, _this.viewport).then(function (svg) {\n          _this.setState({\n            svg: svg\n          }, _this.onRenderSuccess);\n        })[\"catch\"](_this.onRenderError);\n      })[\"catch\"](_this.onRenderError);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"drawPageOnContainer\", function (element) {\n      var svg = _this.state.svg;\n\n      if (!element || !svg) {\n        return;\n      } // Append SVG element to the main container, if this hasn't been done already\n\n\n      if (!element.firstElementChild) {\n        element.appendChild(svg);\n      }\n\n      var _this$viewport = _this.viewport,\n          width = _this$viewport.width,\n          height = _this$viewport.height;\n      svg.setAttribute('width', width);\n      svg.setAttribute('height', height);\n    });\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(PageSVGInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.renderSVG();\n    }\n    /**\n     * Called when a page is rendered successfully.\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$viewport2 = this.viewport,\n          width = _this$viewport2.width,\n          height = _this$viewport2.height;\n      return (\n        /*#__PURE__*/\n        _react[\"default\"].createElement(\"div\", {\n          className: \"react-pdf__Page__svg\" // Note: This cannot be shortened, as we need this function to be called with each render.\n          ,\n          ref: function ref(_ref) {\n            return _this2.drawPageOnContainer(_ref);\n          },\n          style: {\n            display: 'block',\n            backgroundColor: 'white',\n            overflow: 'hidden',\n            width: width,\n            height: height,\n            userSelect: 'none'\n          }\n        })\n      );\n    }\n  }, {\n    key: \"viewport\",\n    get: function get() {\n      var _this$props2 = this.props,\n          page = _this$props2.page,\n          rotate = _this$props2.rotate,\n          scale = _this$props2.scale;\n      return page.getViewport({\n        scale: scale,\n        rotation: rotate\n      });\n    }\n  }]);\n  return PageSVGInternal;\n}(_react.PureComponent);\n\nexports.PageSVGInternal = PageSVGInternal;\nPageSVGInternal.propTypes = {\n  onRenderError: _propTypes[\"default\"].func,\n  onRenderSuccess: _propTypes[\"default\"].func,\n  page: _propTypes2.isPage.isRequired,\n  rotate: _propTypes2.isRotate,\n  scale: _propTypes[\"default\"].number\n};\n\nfunction PageSVG(props) {\n  return (\n    /*#__PURE__*/\n    _react[\"default\"].createElement(_PageContext[\"default\"].Consumer, null, function (context) {\n      return (\n        /*#__PURE__*/\n        _react[\"default\"].createElement(PageSVGInternal, (0, _extends2[\"default\"])({}, context, props))\n      );\n    })\n  );\n}","map":{"version":3,"sources":["/Users/williamvennard/my-app/node_modules/react-pdf/dist/Page/PageSVG.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","PageSVG","PageSVGInternal","_extends2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_react","_propTypes","_pdfjsDist","_PageContext","_utils","_propTypes2","_createSuper","Derived","Super","result","_isNativeReflectConstruct","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Date","prototype","toString","call","e","_PureComponent","_super","_this","_len","length","args","Array","_key","concat","svg","renderer","_this$props","props","onRenderSuccess","page","scale","makePageCallback","error","isCancelException","errorOnDev","onRenderError","getOperatorList","then","operatorList","svgGfx","SVGGraphics","commonObjs","objs","getSVG","viewport","setState","element","state","firstElementChild","appendChild","_this$viewport","width","height","setAttribute","key","componentDidMount","renderSVG","render","_this2","_this$viewport2","createElement","className","ref","_ref","drawPageOnContainer","style","display","backgroundColor","overflow","userSelect","get","_this$props2","rotate","getViewport","rotation","PureComponent","propTypes","func","isPage","isRequired","isRotate","number","Consumer","context"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = PageSVG;\nexports.PageSVGInternal = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _pdfjsDist = _interopRequireDefault(require(\"pdfjs-dist\"));\n\nvar _PageContext = _interopRequireDefault(require(\"../PageContext\"));\n\nvar _utils = require(\"../shared/utils\");\n\nvar _propTypes2 = require(\"../shared/propTypes\");\n\nfunction _createSuper(Derived) { return function () { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar PageSVGInternal = /*#__PURE__*/function (_PureComponent) {\n  (0, _inherits2[\"default\"])(PageSVGInternal, _PureComponent);\n\n  var _super = _createSuper(PageSVGInternal);\n\n  function PageSVGInternal() {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, PageSVGInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"state\", {\n      svg: null\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onRenderSuccess\", function () {\n      _this.renderer = null;\n      var _this$props = _this.props,\n          onRenderSuccess = _this$props.onRenderSuccess,\n          page = _this$props.page,\n          scale = _this$props.scale;\n      if (onRenderSuccess) onRenderSuccess((0, _utils.makePageCallback)(page, scale));\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onRenderError\", function (error) {\n      if ((0, _utils.isCancelException)(error)) {\n        return;\n      }\n\n      (0, _utils.errorOnDev)(error);\n      var onRenderError = _this.props.onRenderError;\n      if (onRenderError) onRenderError(error);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"renderSVG\", function () {\n      var page = _this.props.page;\n      _this.renderer = page.getOperatorList();\n      return _this.renderer.then(function (operatorList) {\n        var svgGfx = new _pdfjsDist[\"default\"].SVGGraphics(page.commonObjs, page.objs);\n        _this.renderer = svgGfx.getSVG(operatorList, _this.viewport).then(function (svg) {\n          _this.setState({\n            svg: svg\n          }, _this.onRenderSuccess);\n        })[\"catch\"](_this.onRenderError);\n      })[\"catch\"](_this.onRenderError);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"drawPageOnContainer\", function (element) {\n      var svg = _this.state.svg;\n\n      if (!element || !svg) {\n        return;\n      } // Append SVG element to the main container, if this hasn't been done already\n\n\n      if (!element.firstElementChild) {\n        element.appendChild(svg);\n      }\n\n      var _this$viewport = _this.viewport,\n          width = _this$viewport.width,\n          height = _this$viewport.height;\n      svg.setAttribute('width', width);\n      svg.setAttribute('height', height);\n    });\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(PageSVGInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.renderSVG();\n    }\n    /**\n     * Called when a page is rendered successfully.\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$viewport2 = this.viewport,\n          width = _this$viewport2.width,\n          height = _this$viewport2.height;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: \"react-pdf__Page__svg\" // Note: This cannot be shortened, as we need this function to be called with each render.\n        ,\n        ref: function ref(_ref) {\n          return _this2.drawPageOnContainer(_ref);\n        },\n        style: {\n          display: 'block',\n          backgroundColor: 'white',\n          overflow: 'hidden',\n          width: width,\n          height: height,\n          userSelect: 'none'\n        }\n      });\n    }\n  }, {\n    key: \"viewport\",\n    get: function get() {\n      var _this$props2 = this.props,\n          page = _this$props2.page,\n          rotate = _this$props2.rotate,\n          scale = _this$props2.scale;\n      return page.getViewport({\n        scale: scale,\n        rotation: rotate\n      });\n    }\n  }]);\n  return PageSVGInternal;\n}(_react.PureComponent);\n\nexports.PageSVGInternal = PageSVGInternal;\nPageSVGInternal.propTypes = {\n  onRenderError: _propTypes[\"default\"].func,\n  onRenderSuccess: _propTypes[\"default\"].func,\n  page: _propTypes2.isPage.isRequired,\n  rotate: _propTypes2.isRotate,\n  scale: _propTypes[\"default\"].number\n};\n\nfunction PageSVG(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_PageContext[\"default\"].Consumer, null, function (context) {\n    return /*#__PURE__*/_react[\"default\"].createElement(PageSVGInternal, (0, _extends2[\"default\"])({}, context, props));\n  });\n}"]},"metadata":{},"sourceType":"script"}